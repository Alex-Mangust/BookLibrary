(()=>{"use strict";const t={name:"bookcart",props:["readbook"],components:{datebook:{name:"datebook",props:["book"],template:'\n        <div class="date_book">\n            <div class="inside_date_book">\n                <h1>{{book.title}}</h1>\n                <img :src="book.images" :alt="book.alt">\n                <p>{{book.description}}</p>\n                <select>\n                    <option value="reading">Читаю</option>\n                    <option value="wanttoread">Хочу прочитать</option>\n                    <option value="finishread">Закончил читать</option>\n                </select>\n                <button @click="closeBookDate" class="close_book_date">X</button>\n            </div>\n        </div>\n    ',methods:{closeBookDate(){this.$el.style.display="none"}},mounted(){}}},template:'\n        <div class="book_cart">\n            <h3>{{readbook.title}}</h3>\n            <img :src="readbook.images" :alt="readbook.alt">\n            <div class="book_cart_buttons">\n                <button @click="showDateBook">Подробнее</button>\n                <button @click="deleteBook">Удалить</button>\n            </div>\n            <datebook :book="readbook"></datebook>\n        </div>\n    ',methods:{deleteBook(){this.$parent.deleteBook(this.readbook.title)},showDateBook(){this.$children[0].$el.style.display="flex";const t=window.getComputedStyle(this.$parent.$el).backgroundColor;this.$children[0].$el.querySelectorAll("h1, p").forEach((o=>{o.style.color=t}))}},mounted(){document.querySelectorAll(".book_cart").forEach((t=>{t.addEventListener("mouseover",(()=>{const o=t.querySelectorAll(".book_cart_buttons");0!==o.length&&(o[0].style.visibility="visible")})),t.addEventListener("mouseout",(()=>{const o=t.querySelectorAll(".book_cart_buttons");0!==o.length&&(o[0].style.visibility="hidden")}))}))}};new Vue({el:"#app",components:{mybooks:{name:"mybooks",data:()=>({readingList:[],wantToReadList:[],finishReadList:[],index:0}),components:{readingblock:{name:"readingblock",components:{bookcart:t},props:["booklist"],data:()=>({componentStyle:{}}),template:'\n        <div style="componentStyle" class="reading">\n            <h2>Читаю в данный момент</h2>\n            <div class="books">\n                <div v-if="booklist.length === 0" class="book_cart">\n                    <h3>В данный момент здесь пусто</h3>\n                </div>\n                <bookcart v-for="(book, index) in booklist" :key="index" :readbook="book"></bookcart>\n            </div>\n        </div>\n    ',methods:{deleteBook(t){const o=this.booklist.filter((o=>o.title!==t));this.$parent.updateBooksList(o,1)}}},wanttoread:{name:"wanttoread",components:{bookcart:t},props:["booklist"],data:()=>({componentStyle:{}}),template:'\n        <div style="componentStyle" class="want_to_read">\n            <h2>Хочу прочитать</h2>\n            <div class="books">\n                <div v-if="booklist.length === 0" class="book_cart">\n                    <h3>В данный момент здесь пусто</h3>\n                </div>\n                <bookcart v-for="(book, index) in booklist" :key="index" :readbook="book"></bookcart>\n            </div>\n        </div>\n    ',methods:{deleteBook(t){const o=this.booklist.filter((o=>o.title!==t));this.$parent.updateBooksList(o,2)}}},finishread:{name:"finishread",components:{bookcart:t},props:["booklist"],data:()=>({componentStyle:{}}),template:'\n        <div style="componentStyle" class="finish_read">\n            <h2>Закончил читать</h2>\n            <div class="books">\n                <div v-if="booklist.length === 0" class="book_cart">\n                    <h3>В данный момент здесь пусто</h3>\n                </div>\n                <bookcart v-for="(book, index) in booklist" :key="index" :readbook="book"></bookcart>\n            </div>\n        </div>\n    ',methods:{deleteBook(t){const o=this.booklist.filter((o=>o.title!==t));this.$parent.updateBooksList(o,3)}}}},template:'\n        <div class="main">\n            <div class="my_books">\n                <readingblock :booklist="readingList"></readingblock>\n                <wanttoread :booklist="wantToReadList"></wanttoread>\n                <finishread :booklist="finishReadList"></finishread>\n            </div>\n            <div class="arrows">\n                <i @click="backBookCart" class="fa-solid fa-arrow-left"></i>\n                <i @click="nextBookCart" class="fa-solid fa-arrow-right"></i>\n            </div>\n        </div>\n    ',methods:{getElements(){return this.$children},aloneComponent(t,o=0){this.$nextTick((()=>{o>=t.length?o=0:o<0&&(o=t.length-1);for(let e=0;e<t.length;e++)t[e].$el.style.display=o===e?"flex":"none";this.index=o}))},nextBookCart(){setTimeout((()=>{this.aloneComponent(this.getElements(),++this.index)}),300)},backBookCart(){setTimeout((()=>{this.aloneComponent(this.getElements(),--this.index)}),300)},updateBooksList(t,o){switch(o){case 1:this.readingList=t;break;case 2:this.wantToReadList=t;break;case 3:this.finishReadList=t}this.$root.updateBooksList(t,o)}},mounted(){this.readingList=this.$root.getReadingList(),this.wantToReadList=this.$root.getWantToReadList(),this.finishReadList=this.$root.getFinishReadList(),this.aloneComponent(this.getElements(),this.index)}},addbook:{name:"addbook",template:'\n        <div class="add_book" @click="addBook">\n            <img src="../img/addBookImage.png" alt="Иконка \'Добавить новую книгу\'">\n            <p>Добавить новую книгу</p>\n        </div>\n    ',methods:{addBook(){console.log("New book")}}}},data:{title:"Личная библиотека",readingList:[{images:"./img/booksImages/идеальныйМирДляЛекаря.jpg",title:"Идеальный мир для лекаря",alt:"Иконка книги 'Идеальный мир для лекаря'",description:"Всю свою жизнь я посвятил изучению целительского мастерства, стал лучшим, самым сильным лекарем в своем мире... Но брат почему-то решил, что я буду претендовать на его трон и привел свое войско. Впрочем, неважно, всё равно уже давно собирался провести этот ритуал, и теперь... Я в другом мире? В теле какого-то юнца? И что значит лекарь здесь - это самый убогий дар? Вы просто не умеете обращаться с силой. Но я покажу, как надо..."},{images:"./img/booksImages/впнт.jpg",title:"Вы призвали не того",alt:"Иконка книги 'Вы призвали не того'",description:"Меня призвали. Мир этот населен разной фэнтезийной хренью, чаще всего очень опасной для людей. Вот король этих самых людишек от меня и требует этих тварей по-быстрому вырезать. Кому понравиться устраивать геноцид по приказу старого хмыря в короне, которому ты нихрена не должен? Может какой узкоглазый педофил-импотент и согласится, но меня с такой работки увольте. Ну, или я сам уволюсь. Вот щас прокачаюсь и дам от этого короля по съе..."}],wantToReadList:[{images:"./img/booksImages/сыныАида.jpg",title:"Сыны Аида",alt:"Иконка книги 'Сыны Аида'",description:"Представьте мир, где боги реальны. Современный мир. Зевс, молнии, кабельное ТВ и покер с однорогим минотавром… Ну как, представили? Так вот. Я тут живу. Раньше медиум, убийца и просто хороший парень из Петербурга, теперь — Наследник Благородного Дома. Адриан Лекс, приятно познакомиться. Тело шестнадцатилетнего дохляка, Глава Дома мечтает удавить меня в постели, а первый же одноклассник так и норовит с размаха зарядить в челюсть. Ну или если коротко — типичный вторник. Ну а кто сказал, что у бастарда Аида должна быть легкая жизнь?"},{images:"./img/booksImages/МирНеОправдавшийМоихОжиданий.jpg",title:"Мир, не оправдавший моих ожиданий",alt:"Иконка книги 'Мир, не оправдавший моих ожиданий'",description:"Добро пожаловать в сказку, которая стала безумным и беспощадным кошмаром; мир, где короли выглядят как последние уголовники, а кондитерские изделия могут тебя сожрать. Добро пожаловать на охоту, где главной добычей будешь ты, где твоей смерти желают герои, авантюристы и даже целое королевство. Не пытайся понять этот мир, у него своя атмосфера и свои правила. Лишь беги, прячься или сражайся всеми доступными методами, пытаясь сохранить рассудок. Но… Как далеко ты готов зайти, чтобы выжить в мире, где тебе не рады?"}],finishReadList:[{images:"./img/booksImages/этоМыНеПроходили.jpg",title:"Это мы не проходили...",alt:"Иконка книги 'Это мы не проходили...'",description:"Упал, очнулся, попал. Всё как всегда. Молодой парень в магическом мире. Но не в теле эльфийского дворянина, а в страшном уёжище в разгаре кровавого побоища. Пошаманив со своими силами, он понимает, что может переселяться в других. Но не все же так просто, правда? «Попаданство» с эльфийками без радуги в кишках. Cоединяем атмосферу, где главному герою хочется сопереживать, с юмором и трэшом. Беременным(,) детям и тонким натурам читать противопоказано. Акцент сюжета не на постельных сценах и гендерных сомнениях."},{images:"./img/booksImages/брд.jpg",title:"Бастард рода демонов",alt:"Иконка книги 'Бастард рода демонов'",description:"Меч, дракон и возможность путешествовать по мирам — что еще нужно, чтобы сбежать от явившихся за моей головой магов? Тем почему-то не понравилось, что мой биологический отец оказался демоном. Пожалуй, ещё не помешает умение правильно выбирать дорогу... В путь!"}]},methods:{updateBooksList(t,o){switch(o){case 1:this.readingList=t;break;case 2:this.wantToReadList=t;break;case 3:this.finishReadList=t}},getReadingList(){return this.readingList},getWantToReadList(){return this.wantToReadList},getFinishReadList(){return this.finishReadList}},mounted(){const t=this;window.addEventListener("keydown",(o=>{"ArrowRight"==o.key&&t.$refs.myBooks.nextBookCart(),"ArrowLeft"==o.key&&t.$refs.myBooks.backBookCart()}))}})})();